(function(){"use strict";var e={457:function(e,t,o){o(4114);var n=o(4373),r=o(4570),a=o.n(r),i=o(6915),s=o(1219);const l=n.A.create({baseURL:"/"});l.interceptors.request.use(e=>{if(e.withAuthCode){const t=a().get("authCode");t&&(e.headers["authCode"]=t)}return e},e=>Promise.reject(e)),l.interceptors.response.use(e=>e,e=>(e.config?.withAuthCode&&401===e.response?.status&&(s.nk.error("认证失败，请重新登录！"),i.A.push("/login")),Promise.reject(e))),t.A=l},2407:function(e,t,o){var n=o(5130),r=o(3888),a=o(2007),i=(o(9436),o(372),o(8950)),s=o(2353),l=o(292),d=o(6768);function u(e,t,o,n,r,a){const i=(0,d.g2)("router-view");return(0,d.uX)(),(0,d.Wv)(i)}var c=o(782),p={computed:{...(0,c.L8)(["userConfig","useDarkMode"])},watch:{useDarkMode(){this.setSiteIcon()},"$i18n.locale"(){this.setSiteTitle(),this.setSiteIcon()}},methods:{setSiteTitle(){const e=this.userConfig?.siteTitleI18n||"Halier ImgHub";document.title=this.$t(e)||e},setSiteIcon(){const e=document.querySelector('link[rel="icon"]');e&&document.head.removeChild(e);const t=document.createElement("link");t.rel="icon";let o="/logo.png";o=this.useDarkMode?this.userConfig?.siteIconDark||"/logo-dark.png":this.userConfig?.siteIcon||"/logo.png",t.href=o,document.head.appendChild(t)}},mounted(){this.setSiteTitle()}},m=o(1241);const f=(0,m.A)(p,[["render",u]]);var h=f,g=o(6915),b=o(5507),y=o(5384),k=JSON.parse('{"home":{"title":"Halier ImgBed","subtitle":"现代化开源文件托管平台","uploadArea":{"drag":"拖拽","click":"点击","or":"或","paste":"Ctrl + V","upload":"上传"}},"upload":{"paste":{"placeholder":"粘贴外链上传，多个外链用换行分隔"}},"api":{"title":"上传 API 文档","basicInfo":{"title":"一、基本信息","description":"本文档详细说明上传 API 的使用方式，包括基本信息、请求参数、响应格式及示例，适用于第三方应用集成文件上传功能。","table":{"item":"项目","description":"说明"},"endpoint":"接口端点","method":"请求方法","auth":"认证方式","authDescription":"支持两种：1. 上传认证码（authCode）2. API Token（需具备 upload 权限）","contentType":"内容类型","contentTypeDescription":"（文件上传专用格式）","fileSizeLimit":"文件大小限制","fileSizeLimitDescription":"无固定值，根据选择的上传渠道（如 Telegram、cfr2、S3）而定"},"requestParams":{"title":"二、请求参数","description":"请求参数分为 <strong>Query 参数</strong>（URL 后缀拼接）和 <strong>Body 参数</strong>（表单数据），其中 Body 参数为必需项，Query 参数为可选项。","query":{"title":"2.1 Query 参数（可选）","uploadNameTypeDesc":"文件命名方式，可选值：- default：前缀_原名（默认）- index：仅前缀- origin：仅原名- short：短链接命名","returnFormatDesc":"返回链接格式，可选值：- default：简化格式（如 /file/id）- full：完整链接格式"},"body":{"title":"2.2 Body 参数（必需）","fileDesc":"待上传的文件（如图片、文档等）"},"table":{"name":"参数名","type":"类型","required":"是","optional":"否","defaultValue":"默认值","description":"说明"}},"responseFormat":{"title":"三、响应格式","description":"API 响应为 JSON 数组格式，核心字段为 <code>data[0].src</code>，用于获取上传后的文件链接。","keyPoints":"关键说明","keyField":"核心字段","fieldMeaning":"字段含义","fieldMeaningDescription":"：返回的文件链接<strong>不包含域名</strong>，需自行拼接部署域名（示例：若 <code>src</code> 为 <code>/file/abc123_image.jpg</code>，完整链接为 <code>https://your.domain/file/abc123_image.jpg</code>）。"},"examples":{"title":"四、示例","request":{"title":"4.1 请求示例（bash curl）"},"response":{"title":"4.2 响应示例（JSON）"}}},"nav":{"apiDocs":"API 文档","dashboard":"管理后台","login":"登录","logout":"退出登录"},"common":{"ok":"确定","cancel":"取消","save":"保存","delete":"删除","edit":"编辑"}}'),C=JSON.parse('{"home":{"title":"Halier ImgBed","subtitle":"Modern Open-Source File Hosting Platform","uploadArea":{"drag":"Drag","click":"Click","or":"or","paste":"Ctrl + V","upload":" to upload"}},"upload":{"paste":{"placeholder":"Paste external links to upload, separate multiple links with line breaks"}},"api":{"title":"Upload API Documentation","basicInfo":{"title":"1. Basic Information","description":"This document details the usage of the upload API, including basic information, request parameters, response format, and examples, suitable for third-party application integration.","table":{"item":"Item","description":"Description"},"endpoint":"Endpoint","method":"Method","auth":"Authentication","authDescription":"Supports two types: 1. Upload Auth Code (authCode) 2. API Token (requires upload permission)","contentType":"Content Type","contentTypeDescription":" (file upload specific format)","fileSizeLimit":"File Size Limit","fileSizeLimitDescription":"No fixed value, depends on the selected upload channel (e.g., Telegram, cfr2, S3)"},"requestParams":{"title":"2. Request Parameters","description":"Request parameters are divided into <strong>Query Parameters</strong> (appended to the URL) and <strong>Body Parameters</strong> (form data), where Body Parameters are required and Query Parameters are optional.","query":{"title":"2.1 Query Parameters (Optional)","uploadNameTypeDesc":"File naming method. Optional values: - default: prefix_originalname (default) - index: prefix only - origin: original name only - short: short link naming","returnFormatDesc":"Return link format. Optional values: - default: simplified format (e.g., /file/id) - full: full link format"},"body":{"title":"2.2 Body Parameters (Required)","fileDesc":"The file to be uploaded (e.g., image, document)"},"table":{"name":"Name","type":"Type","required":"Required","optional":"Optional","defaultValue":"Default","description":"Description"}},"responseFormat":{"title":"3. Response Format","description":"The API response is in JSON array format, with the core field being <code>data[0].src</code> to obtain the uploaded file link.","keyPoints":"Key Points","keyField":"Key Field","fieldMeaning":"Field Meaning","fieldMeaningDescription":": The returned file link <strong>does not include the domain name</strong>. You need to concatenate the deployment domain name yourself (Example: if <code>src</code> is <code>/file/abc123_image.jpg</code>, the full link is <code>https://your.domain/file/abc123_image.jpg</code>)."},"examples":{"title":"4. Examples","request":{"title":"4.1 Request Example (bash curl)"},"response":{"title":"4.2 Response Example (JSON)"}}},"nav":{"apiDocs":"API Docs","dashboard":"Dashboard","login":"Login","logout":"Logout"},"common":{"ok":"OK","cancel":"Cancel","save":"Save","delete":"Delete","edit":"Edit"}}');const v={zh:k,en:C};function A(){const e=navigator.language.toLowerCase();return e.startsWith("zh")?"zh":(e.startsWith("en"),"en")}const U=(0,y.hU)({legacy:!1,locale:A(),fallbackLocale:"en",messages:v,globalInjection:!0});var P=U,D=o(7477);o(1862);i.Yv.add(s.X7I);const S=(0,n.Ef)(h),w=(0,r.Zf)();S.component("font-awesome-icon",l.gc);for(const[F,L]of Object.entries(D))S.component(F,L);const M=e=>{const t=document.documentElement;if(b.A.state.cusDarkMode&&null!==b.A.state.useDarkMode)e=b.A.state.useDarkMode;else{if(e=window.matchMedia("(prefers-color-scheme: dark)").matches,!e){const t=new Date,o=t.getHours();e=o>=22||o<6}b.A.commit("setUseDarkMode",e)}e?t.classList.add("dark"):t.classList.remove("dark")},T=e=>{const t=document.documentElement;e?t.classList.add("dark"):t.classList.remove("dark")},I=e=>{document.title=e?.siteTitle||"Halier ImgHub"},E=(e,t)=>{const o=document.createElement("link");o.rel="icon",o.href=e?t?.siteIcon||"/logo-dark.png":t?.siteIcon||"/logo.png",document.head.appendChild(o)};b.A.dispatch("fetchUserConfig").then(()=>{M(b.A.state.useDarkMode),I(b.A.getters.userConfig),E(b.A.state.useDarkMode,b.A.getters.userConfig),b.A.subscribe((e,t)=>{"setUseDarkMode"===e.type&&T(t.useDarkMode)}),S.use(b.A).use(g.A).use(a.A).use(P).mount("#app")}).catch(e=>{console.error("Failed to load user configuration:",e),S.use(b.A).use(g.A).use(a.A).use(w).use(P).mount("#app")})},5507:function(e,t,o){o(8111),o(1701);var n=o(782),r=o(457),a=o(5131);t.A=(0,n.y$)({state:{userConfig:null,bingWallPapers:[],credentials:null,uploadMethod:"default",uploadCopyUrlForm:"",compressConfig:{customerCompress:!0,compressQuality:4,compressBar:5,serverCompress:!0},storeUploadChannel:"",storeAutoRetry:!0,storeUploadNameType:"",uploadFolder:"",customUrlSettings:{useCustomUrl:"false",customUrlPrefix:""},adminUrlSettings:{useCustomUrl:"false",customUrlPrefix:""},autoReUpload:!0,useDarkMode:null,cusDarkMode:!1},getters:{userConfig:e=>e.userConfig,bingWallPapers:e=>e.bingWallPapers,credentials:e=>e.credentials,storeUploadMethod:e=>e.uploadMethod,uploadCopyUrlForm:e=>e.uploadCopyUrlForm,compressConfig:e=>e.compressConfig,storeUploadChannel:e=>e.storeUploadChannel,storeUploadNameType:e=>e.storeUploadNameType,customUrlSettings:e=>e.customUrlSettings,storeAutoRetry:e=>e.storeAutoRetry,adminUrlSettings:e=>e.adminUrlSettings,storeUploadFolder:e=>e.uploadFolder||localStorage.getItem("uploadFolder")||"",useDarkMode:e=>e.useDarkMode,cusDarkMode:e=>e.cusDarkMode,storeAutoReUpload:e=>e.autoReUpload},mutations:{setUserConfig(e,t){e.userConfig=t},setBingWallPapers(e,t){e.bingWallPapers=t},setCredentials(e,t){e.credentials=t},setUploadMethod(e,t){e.uploadMethod=t},setUploadCopyUrlForm(e,t){e.uploadCopyUrlForm=t},setCompressConfig(e,{key:t,value:o}){e.compressConfig[t]=o},setStoreUploadChannel(e,t){e.storeUploadChannel=t},setStoreUploadNameType(e,t){e.storeUploadNameType=t},setCustomUrlSettings(e,{key:t,value:o}){e.customUrlSettings[t]=o},setStoreAutoRetry(e,t){e.storeAutoRetry=t},setAdminUrlSettings(e,{key:t,value:o}){e.adminUrlSettings[t]=o},setUseDarkMode(e,t){e.useDarkMode=t},setCusDarkMode(e,t){e.cusDarkMode=t},setStoreUploadFolder(e,t){e.uploadFolder=t,localStorage.setItem("uploadFolder",t)},setStoreAutoReUpload(e,t){e.autoReUpload=t}},actions:{async fetchUserConfig({commit:e}){try{const t=await r.A.get("/api/userConfig");e("setUserConfig",t.data)}catch(t){console.log(t)}},async fetchBingWallPapers({commit:e}){try{const t=await r.A.get("/api/bing/wallpaper"),o=t.data.data,n=o.map(e=>({url:"https://www.bing.com"+e.url}));await Promise.all(n.map(e=>new Promise((t,o)=>{const n=new Image;n.onload=t,n.onerror=o,n.src=e.url}))),e("setBingWallPapers",n)}catch(t){console.log(t)}}},modules:{},plugins:[(0,a.A)()]})},6915:function(e,t,o){o(4979);var n=o(1387),r=o(1219),a=o(4570),i=o.n(a),s=o(5507),l=o(457);const d=(e,t,o)=>{const n=s.A.getters.credentials;if(null===n&&"adminLogin"!==e.name){const e=btoa("unset:unset");l.A.get("/api/manage/check",{headers:{Authorization:"Basic "+e},withCredentials:!0}).then(t=>{if(200!==t.status)throw new Error("认证失败！");s.A.commit("setCredentials",e),o()}).catch(e=>{r.nk.error("请先认证！"),o({name:"adminLogin"})})}else o()},u=(e,t,o)=>{let n=i().get("authCode");null===n&&"login"!==e.name?l.A.post("/api/login",{authCode:"unset"}).then(e=>{if(200!==e.status)throw new Error("认证失败！");i().set("authCode","unset","14d"),n="unset",o()}).catch(e=>{r.nk.error("请先认证！"),o({name:"login"})}):o()},c=[{path:"/",name:"home",component:()=>Promise.all([o.e(162),o.e(146)]).then(o.bind(o,2881)),beforeEnter:u},{path:"/login",name:"login",component:()=>Promise.all([o.e(162),o.e(908)]).then(o.bind(o,9031))},{path:"/dashboard",name:"dashboard",component:()=>Promise.all([o.e(288),o.e(845),o.e(259)]).then(o.bind(o,5534)),beforeEnter:d},{path:"/customerConfig",name:"customerConfig",component:()=>Promise.all([o.e(288),o.e(381),o.e(499)]).then(o.bind(o,6499)),beforeEnter:d},{path:"/systemConfig",name:"systemConfig",component:()=>Promise.all([o.e(288),o.e(381),o.e(691)]).then(o.bind(o,9691)),beforeEnter:d},{path:"/adminLogin",name:"adminLogin",component:()=>Promise.all([o.e(162),o.e(548)]).then(o.bind(o,8351))},{path:"/blockimg",name:"blockimg",component:()=>o.e(917).then(o.bind(o,4917))},{path:"/whiteliston",name:"whiteliston",component:()=>Promise.all([o.e(845),o.e(644)]).then(o.bind(o,7226))},{path:"/api-docs",name:"apiDocs",component:()=>o.e(880).then(o.bind(o,2499))},{path:"/:pathMatch(.*)*",name:"notFound",component:()=>o.e(226).then(o.bind(o,8226))}],p=(0,n.aE)({history:(0,n.LA)("/"),routes:c});t.A=p}},t={};function o(n){var r=t[n];if(void 0!==r)return r.exports;var a=t[n]={exports:{}};return e[n].call(a.exports,a,a.exports,o),a.exports}o.m=e,function(){var e=[];o.O=function(t,n,r,a){if(!n){var i=1/0;for(u=0;u<e.length;u++){n=e[u][0],r=e[u][1],a=e[u][2];for(var s=!0,l=0;l<n.length;l++)(!1&a||i>=a)&&Object.keys(o.O).every(function(e){return o.O[e](n[l])})?n.splice(l--,1):(s=!1,a<i&&(i=a));if(s){e.splice(u--,1);var d=r();void 0!==d&&(t=d)}}return t}a=a||0;for(var u=e.length;u>0&&e[u-1][2]>a;u--)e[u]=e[u-1];e[u]=[n,r,a]}}(),function(){o.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return o.d(t,{a:t}),t}}(),function(){o.d=function(e,t){for(var n in t)o.o(t,n)&&!o.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})}}(),function(){o.f={},o.e=function(e){return Promise.all(Object.keys(o.f).reduce(function(t,n){return o.f[n](e,t),t},[]))}}(),function(){o.u=function(e){return"js/"+e+"."+{146:"2c063c4b",162:"8a5db2a3",226:"4c3e9291",259:"d711156e",499:"99ba28e5",548:"fa1eed43",691:"e3388f02",845:"1093f728",880:"9aa191d9",908:"1be5fd53",917:"d81a041b"}[e]+".js"}}(),function(){o.miniCssF=function(e){return"css/"+e+"."+{146:"7b647101",226:"6548e7b4",259:"abd1c51f",288:"3368d77a",381:"c09a25dc",499:"1601d0e7",548:"18bea5ce",644:"6b45e8e3",691:"8692b38b",880:"158292d1",908:"18bea5ce",917:"8529ad1e"}[e]+".css"}}(),function(){o.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){var e={},t="sanyue_imghub:";o.l=function(n,r,a,i){if(e[n])e[n].push(r);else{var s,l;if(void 0!==a)for(var d=document.getElementsByTagName("script"),u=0;u<d.length;u++){var c=d[u];if(c.getAttribute("src")==n||c.getAttribute("data-webpack")==t+a){s=c;break}}s||(l=!0,s=document.createElement("script"),s.charset="utf-8",s.timeout=120,o.nc&&s.setAttribute("nonce",o.nc),s.setAttribute("data-webpack",t+a),s.src=n),e[n]=[r];var p=function(t,o){s.onerror=s.onload=null,clearTimeout(m);var r=e[n];if(delete e[n],s.parentNode&&s.parentNode.removeChild(s),r&&r.forEach(function(e){return e(o)}),t)return t(o)},m=setTimeout(p.bind(null,void 0,{type:"timeout",target:s}),12e4);s.onerror=p.bind(null,s.onerror),s.onload=p.bind(null,s.onload),l&&document.head.appendChild(s)}}}(),function(){o.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){o.p="/"}(),function(){if("undefined"!==typeof document){var e=function(e,t,n,r,a){var i=document.createElement("link");i.rel="stylesheet",i.type="text/css",o.nc&&(i.nonce=o.nc);var s=function(o){if(i.onerror=i.onload=null,"load"===o.type)r();else{var n=o&&o.type,s=o&&o.target&&o.target.href||t,l=new Error("Loading CSS chunk "+e+" failed.\n("+n+": "+s+")");l.name="ChunkLoadError",l.code="CSS_CHUNK_LOAD_FAILED",l.type=n,l.request=s,i.parentNode&&i.parentNode.removeChild(i),a(l)}};return i.onerror=i.onload=s,i.href=t,n?n.parentNode.insertBefore(i,n.nextSibling):document.head.appendChild(i),i},t=function(e,t){for(var o=document.getElementsByTagName("link"),n=0;n<o.length;n++){var r=o[n],a=r.getAttribute("data-href")||r.getAttribute("href");if("stylesheet"===r.rel&&(a===e||a===t))return r}var i=document.getElementsByTagName("style");for(n=0;n<i.length;n++){r=i[n],a=r.getAttribute("data-href");if(a===e||a===t)return r}},n=function(n){return new Promise(function(r,a){var i=o.miniCssF(n),s=o.p+i;if(t(i,s))return r();e(n,s,null,r,a)})},r={524:0};o.f.miniCss=function(e,t){var o={146:1,226:1,259:1,288:1,381:1,499:1,548:1,644:1,691:1,880:1,908:1,917:1};r[e]?t.push(r[e]):0!==r[e]&&o[e]&&t.push(r[e]=n(e).then(function(){r[e]=0},function(t){throw delete r[e],t}))}}}(),function(){var e={524:0};o.f.j=function(t,n){var r=o.o(e,t)?e[t]:void 0;if(0!==r)if(r)n.push(r[2]);else if(/^(288|381|644)$/.test(t))e[t]=0;else{var a=new Promise(function(o,n){r=e[t]=[o,n]});n.push(r[2]=a);var i=o.p+o.u(t),s=new Error,l=function(n){if(o.o(e,t)&&(r=e[t],0!==r&&(e[t]=void 0),r)){var a=n&&("load"===n.type?"missing":n.type),i=n&&n.target&&n.target.src;s.message="Loading chunk "+t+" failed.\n("+a+": "+i+")",s.name="ChunkLoadError",s.type=a,s.request=i,r[1](s)}};o.l(i,l,"chunk-"+t,t)}},o.O.j=function(t){return 0===e[t]};var t=function(t,n){var r,a,i=n[0],s=n[1],l=n[2],d=0;if(i.some(function(t){return 0!==e[t]})){for(r in s)o.o(s,r)&&(o.m[r]=s[r]);if(l)var u=l(o)}for(t&&t(n);d<i.length;d++)a=i[d],o.o(e,a)&&e[a]&&e[a][0](),e[a]=0;return o.O(u)},n=self["webpackChunksanyue_imghub"]=self["webpackChunksanyue_imghub"]||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))}();var n=o.O(void 0,[504],function(){return o(2407)});n=o.O(n)})();
//# sourceMappingURL=app.cb289626.js.map