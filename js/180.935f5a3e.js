"use strict";(self["webpackChunksanyue_imghub"]=self["webpackChunksanyue_imghub"]||[]).push([[180],{732:function(t,e,a){t.exports=a.p+"img/background.ea1b7ee7.jpg"},4180:function(t,e,a){a.r(e),a.d(e,{default:function(){return k}});var d=a(6768),n=a(4232);const c={class:"api-docs-container"},s=["innerHTML"],o={class:"api-docs-content"},i={class:"back-button-wrapper"},r={class:"docs-main"},l={class:"docs-content"},u={class:"docs-section"},b={class:"code-block"};function g(t,e,a,g,h,f){const p=(0,d.g2)("font-awesome-icon");return(0,d.uX)(),(0,d.CE)("div",c,[(0,d.Lk)("div",{class:"background-wrapper",innerHTML:t.backgroundImagesTemplate},null,8,s),(0,d.Lk)("div",o,[(0,d.Lk)("div",i,[(0,d.Lk)("div",{class:"back-button",onClick:e[0]||(e[0]=(...t)=>f.goHome&&f.goHome(...t))},[(0,d.bF)(p,{icon:"home"})])]),e[6]||(e[6]=(0,d.Lk)("div",{class:"docs-header"},[(0,d.Lk)("h1",{class:"docs-title"},"上传 API 文档")],-1)),(0,d.Lk)("div",r,[(0,d.Lk)("div",l,[e[5]||(e[5]=(0,d.Fv)('<section class="docs-section" data-v-f9ec3db8><h2 data-v-f9ec3db8>一、基本信息</h2><p data-v-f9ec3db8>本文档详细说明上传 API 的使用方式，包括基本信息、请求参数、响应格式及示例，适用于第三方应用集成文件上传功能。</p><table class="params-table" data-v-f9ec3db8><thead data-v-f9ec3db8><tr data-v-f9ec3db8><th data-v-f9ec3db8>项目</th><th data-v-f9ec3db8>说明</th></tr></thead><tbody data-v-f9ec3db8><tr data-v-f9ec3db8><td data-v-f9ec3db8>接口端点</td><td data-v-f9ec3db8>/upload</td></tr><tr data-v-f9ec3db8><td data-v-f9ec3db8>请求方法</td><td data-v-f9ec3db8>POST</td></tr><tr data-v-f9ec3db8><td data-v-f9ec3db8>认证方式</td><td data-v-f9ec3db8>支持两种：1. 上传认证码（authCode）2. API Token（需具备 upload 权限）</td></tr><tr data-v-f9ec3db8><td data-v-f9ec3db8>内容类型</td><td data-v-f9ec3db8>multipart/form-data（文件上传专用格式）</td></tr><tr data-v-f9ec3db8><td data-v-f9ec3db8>文件大小限制</td><td data-v-f9ec3db8>无固定值，根据选择的上传渠道（如 Telegram、cfr2、S3）而定</td></tr></tbody></table></section><section class="docs-section" data-v-f9ec3db8><h2 data-v-f9ec3db8>二、请求参数</h2><p data-v-f9ec3db8>请求参数分为 <strong data-v-f9ec3db8>Query 参数</strong>（URL 后缀拼接）和 <strong data-v-f9ec3db8>Body 参数</strong>（表单数据），其中 Body 参数为必需项，Query 参数为可选项。</p><h3 data-v-f9ec3db8>2.1 Query 参数（可选）</h3><table class="params-table" data-v-f9ec3db8><thead data-v-f9ec3db8><tr data-v-f9ec3db8><th data-v-f9ec3db8>参数名</th><th data-v-f9ec3db8>类型</th><th data-v-f9ec3db8>是否必需</th><th data-v-f9ec3db8>默认值</th><th data-v-f9ec3db8>说明</th></tr></thead><tbody data-v-f9ec3db8><tr data-v-f9ec3db8><td data-v-f9ec3db8>uploadNameType</td><td data-v-f9ec3db8>string</td><td data-v-f9ec3db8>否</td><td data-v-f9ec3db8>default</td><td data-v-f9ec3db8>文件命名方式，可选值：- default：前缀_原名（默认）- index：仅前缀- origin：仅原名- short：短链接命名</td></tr><tr data-v-f9ec3db8><td data-v-f9ec3db8>returnFormat</td><td data-v-f9ec3db8>string</td><td data-v-f9ec3db8>否</td><td data-v-f9ec3db8>default</td><td data-v-f9ec3db8>返回链接格式，可选值：- default：简化格式（如 /file/id）- full：完整链接格式</td></tr></tbody></table><h3 data-v-f9ec3db8>2.2 Body 参数（必需）</h3><table class="params-table" data-v-f9ec3db8><thead data-v-f9ec3db8><tr data-v-f9ec3db8><th data-v-f9ec3db8>参数名</th><th data-v-f9ec3db8>类型</th><th data-v-f9ec3db8>是否必需</th><th data-v-f9ec3db8>说明</th></tr></thead><tbody data-v-f9ec3db8><tr data-v-f9ec3db8><td data-v-f9ec3db8>file</td><td data-v-f9ec3db8>File</td><td data-v-f9ec3db8>是</td><td data-v-f9ec3db8>待上传的文件（如图片、文档等）</td></tr></tbody></table></section><section class="docs-section" data-v-f9ec3db8><h2 data-v-f9ec3db8>三、响应格式</h2><p data-v-f9ec3db8>API 响应为 JSON 数组格式，核心字段为 <code data-v-f9ec3db8>data[0].src</code>，用于获取上传后的文件链接。</p><h3 data-v-f9ec3db8>关键说明</h3><ul data-v-f9ec3db8><li data-v-f9ec3db8><strong data-v-f9ec3db8>核心字段</strong>：<code data-v-f9ec3db8>data[0].src</code></li><li data-v-f9ec3db8><strong data-v-f9ec3db8>字段含义</strong>：返回的文件链接<strong data-v-f9ec3db8>不包含域名</strong>，需自行拼接部署域名（示例：若 <code data-v-f9ec3db8>src</code> 为 <code data-v-f9ec3db8>/file/abc123_image.jpg</code>，完整链接为 <code data-v-f9ec3db8>https://your.domain/file/abc123_image.jpg</code>）。</li></ul></section>',3)),(0,d.Lk)("section",u,[e[1]||(e[1]=(0,d.Lk)("h2",null,"四、示例",-1)),e[2]||(e[2]=(0,d.Lk)("h3",null,"4.1 请求示例（bash curl）",-1)),(0,d.Lk)("div",b,[(0,d.Lk)("pre",null,[(0,d.Lk)("code",null,"curl --location --request POST '"+(0,n.v_)(f.apiBaseUrl)+"/upload?authCode=your_authCode' \\\n--header 'User-Agent: Apifox/1.0.0 (https://apifox.com)' \\\n--form 'file=@\"D:\\杂文件\\壁纸\\genshin109.jpg\"'",1)])]),e[3]||(e[3]=(0,d.Lk)("h3",null,"4.2 响应示例（JSON）",-1)),e[4]||(e[4]=(0,d.Lk)("div",{class:"code-block"},[(0,d.Lk)("pre",null,[(0,d.Lk)("code",null,'[\n  {\n    "src": "/file/abc123_image.jpg"\n  }\n]')])],-1))])])])]),e[7]||(e[7]=(0,d.Fv)('<div class="floating-elements" data-v-f9ec3db8><div class="floating-shape shape-1" data-v-f9ec3db8></div><div class="floating-shape shape-2" data-v-f9ec3db8></div><div class="floating-shape shape-3" data-v-f9ec3db8></div><div class="floating-shape shape-4" data-v-f9ec3db8></div><div class="floating-shape shape-5" data-v-f9ec3db8></div></div>',1))])}a(4114);var h=a(782),f=a(8903),p={name:"ApiDocs",mixins:[f.A],computed:{...(0,h.L8)(["userConfig"]),ownerName(){return this.userConfig?.ownerName||"Sanyue"},apiBaseUrl(){return`${window.location.protocol}//${window.location.host}`}},mounted(){this.initializeBackground("uploadBkImg",".api-docs-container",!1,!0)},beforeUnmount(){this.clearBackgroundInterval()},methods:{goHome(){this.$router.push("/")}}},v=a(1241);const m=(0,v.A)(p,[["render",g],["__scopeId","data-v-f9ec3db8"]]);var k=m},7835:function(t,e,a){t.exports=a.p+"img/background-light.f17603bc.jpg"},8903:function(t,e,a){var d=a(782);e.A={data(){return{bingWallPaperIndex:0,customWallPaperIndex:0,backgroundInterval:null,backgroundInitParams:null}},computed:{...(0,d.L8)(["userConfig","bingWallPapers","useDarkMode"]),bkInterval(){return this.userConfig?.bkInterval||3e3},bkOpacity(){return this.userConfig?.bkOpacity||1},backgroundImagesTemplate(){return'\n        <img id="bg1" class="background-image1" alt="Background Image"/>\n        <img id="bg2" class="background-image2" alt="Background Image"/>\n      '},backgroundImagesStyles(){return"\n        .background-image1 {\n          position: fixed;\n          top: 0;\n          left: 0;\n          width: 100%;\n          height: 100%;\n          object-fit: cover;\n          z-index: -1;\n          opacity: 0;\n          transition: opacity 0.8s cubic-bezier(0.4, 0, 0.2, 1);\n        }\n        .background-image2 {\n          position: fixed;\n          top: 0;\n          left: 0;\n          width: 100%;\n          height: 100%;\n          object-fit: cover;\n          z-index: -1;\n          opacity: 0;\n          transition: opacity 0.8s cubic-bezier(0.4, 0, 0.2, 1);\n        }\n      "}},watch:{useDarkMode(t,e){t!==e&&this.backgroundInitParams&&this.$nextTick(()=>{this.smoothThemeTransition(this.backgroundInitParams.configKey,this.backgroundInitParams.containerSelector,this.backgroundInitParams.useDefaultBackground,this.backgroundInitParams.autoCreateElements)})}},mounted(){this.injectBackgroundStyles()},beforeUnmount(){this.backgroundInterval&&clearInterval(this.backgroundInterval),this.clearBackgroundImages(!0),this.removeBackgroundStyles()},methods:{injectBackgroundStyles(){const t="background-manager-styles";if(!document.getElementById(t)){const e=document.createElement("style");e.id=t,e.textContent=this.backgroundImagesStyles,document.head.appendChild(e)}},removeBackgroundStyles(){const t="background-manager-styles",e=document.getElementById(t);e&&e.remove()},createBackgroundElements(t){if(!t)return void console.warn("未提供有效的容器元素");if(document.getElementById("bg1")||document.getElementById("bg2"))return;const e=document.createElement("img");e.id="bg1",e.className="background-image1",e.alt="Background Image";const a=document.createElement("img");a.id="bg2",a.className="background-image2",a.alt="Background Image",t.insertBefore(e,t.firstChild),t.insertBefore(a,t.firstChild)},initializeBackground(t,e=".login",a=!1,d=!1){if(this.backgroundInitParams={configKey:t,containerSelector:e,useDefaultBackground:a,autoCreateElements:d},d){const t=document.querySelector(e);!t||document.getElementById("bg1")&&document.getElementById("bg2")||this.createBackgroundElements(t)}const n=document.getElementById("bg1"),c=document.getElementById("bg2");if(!n||!c)return void console.warn("背景图元素 #bg1 或 #bg2 未找到，请确保页面中包含这些元素或启用 autoCreateElements");const s=this.userConfig?.[t];"bing"===s?this.setupBingWallpaper(n,c,e):Array.isArray(s)&&s.length>1?this.setupCustomWallpaperCarousel(n,c,s,e):Array.isArray(s)&&1===s.length?this.setupSingleCustomWallpaper(n,s[0],e):a&&this.setupDefaultWallpaper(n,e)},setupBingWallpaper(t,e,a){this.$store.dispatch("fetchBingWallPapers").then(()=>{0!==this.bingWallPapers.length&&(this.loadBackgroundImage(t,this.bingWallPapers[this.bingWallPaperIndex]?.url,a),this.backgroundInterval=setInterval(()=>{this.switchBingWallpaper(t,e)},this.bkInterval))})},setupCustomWallpaperCarousel(t,e,a,d){this.loadBackgroundImage(t,a[this.customWallPaperIndex],d),this.backgroundInterval=setInterval(()=>{this.switchCustomWallpaper(t,e,a)},this.bkInterval)},setupSingleCustomWallpaper(t,e,a){this.loadBackgroundImage(t,e,a)},setupDefaultWallpaper(t,e){const d=this.useDarkMode,n=a(d?732:7835);this.loadBackgroundImage(t,n,e)},loadBackgroundImage(t,e,a){t.src=e,t.onload=()=>{t.style.opacity=this.bkOpacity;const e=document.querySelector(a);e&&(e.style.background="transparent")}},switchBingWallpaper(t,e){if(0===this.bingWallPapers.length)return;const a=0!=t.style.opacity?t:e,d=0!=t.style.opacity?e:t;a.style.opacity=0,this.bingWallPaperIndex=(this.bingWallPaperIndex+1)%this.bingWallPapers.length,d.src=this.bingWallPapers[this.bingWallPaperIndex]?.url,d.onload=()=>{d.style.opacity=this.bkOpacity}},switchCustomWallpaper(t,e,a){const d=0!=t.style.opacity?t:e,n=0!=t.style.opacity?e:t;d.style.opacity=0,this.customWallPaperIndex=(this.customWallPaperIndex+1)%a.length,n.src=a[this.customWallPaperIndex],n.onload=()=>{n.style.opacity=this.bkOpacity}},clearBackgroundInterval(){this.backgroundInterval&&(clearInterval(this.backgroundInterval),this.backgroundInterval=null)},clearBackgroundImages(t=!1){const e=document.getElementById("bg1"),a=document.getElementById("bg2");t?(e&&(e.style.transition="none",e.style.opacity=0,e.src="",setTimeout(()=>{e&&(e.style.transition="opacity 0.8s cubic-bezier(0.4, 0, 0.2, 1)")},50)),a&&(a.style.transition="none",a.style.opacity=0,a.src="",setTimeout(()=>{a&&(a.style.transition="opacity 0.8s cubic-bezier(0.4, 0, 0.2, 1)")},50))):(e&&(e.style.opacity=0,setTimeout(()=>{e&&(e.src="")},800)),a&&(a.style.opacity=0,setTimeout(()=>{a&&(a.src="")},800)))},smoothThemeTransition(t,e=".login",d=!1,n=!1){const c=this.userConfig?.[t];if(!d||void 0!==c)return void this.reinitializeBackground(t,e,d,n);const s=document.getElementById("bg1"),o=document.getElementById("bg2");if(!s||!o)return void this.reinitializeBackground(t,e,d,n);const i=0!=s.style.opacity?s:o,r=0!=s.style.opacity?o:s,l=this.useDarkMode,u=a(l?732:7835),b=new Image;b.onload=()=>{r.src=u,r.onload=()=>{i.style.opacity=0,setTimeout(()=>{r.style.opacity=this.bkOpacity;const t=document.querySelector(e);t&&(t.style.background="transparent")},50)}},b.onerror=()=>{console.warn("主题背景图预加载失败，回退到直接切换"),this.reinitializeBackground(t,e,d,n)},b.src=u},reinitializeBackground(t,e=".login",a=!1,d=!1){this.clearBackgroundInterval(),this.clearBackgroundImages(!0),this.bingWallPaperIndex=0,this.customWallPaperIndex=0,setTimeout(()=>{this.initializeBackground(t,e,a,d)},100)}}}}}]);
//# sourceMappingURL=180.935f5a3e.js.map